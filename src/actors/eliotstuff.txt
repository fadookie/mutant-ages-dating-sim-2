actor PartyCaco : Cacodemon 30001
{	
	+FRIENDLY
	+BUDDHA
	+NOBLOOD
	+LOOKALLAROUND
	
	PainChance 0
  States
  {
  Spawn:
    HEAD A 10 A_Look
    Loop
  See:
    HEAD A 3 A_Chase
    Loop
  Missile:
    HEAD BC 5 A_FaceTarget
    HEAD D 5 Bright A_HeadAttack
    Goto See
  Pain:
	ELPC A 56 A_Playsound("el/horn",CHAN_WEAPON,1.0) // Sound is 1.6 seconds * 35 tics per second = 56
	ELPC B 1 A_Die
  Death:
    // HEAD G 8
    // HEAD H 8 A_Scream
    // HEAD IJ 8
    // HEAD K 8 A_NoBlocking
    // HEAD L -1 A_SetFloorClip
	ELPC B -1 A_BossDeath
    Stop
  Raise:
    HEAD L 8 A_UnSetFloorClip
    HEAD KJIHG 8
    Goto See
  }
}

//using 20100 -weapons
actor Cupcake_Gun: Weapon 30002
{
	Weapon.SlotNumber 2
	Weapon.SlotPriority 1
	Weapon.SelectionOrder 50
	Weapon.AmmoUse 1
	Weapon.AmmoGive 50
	Weapon.AmmoType "Cupcake_Ammo"
	Weapon.BobStyle Smooth
	Weapon.BobRangeX 0.4
	Weapon.BobRangeY 0.2
	
	
	Scale .5
	
	Inventory.PickupMessage "Yum!"
	+INVENTORY.AUTOACTIVATE
	+FORCEPAIN
	Inventory.PickupSound "el/sm_nom"
	
	States
	{
		Spawn:
		ELCP A -1
		Stop
		
		Select:
		ELCH A 1 A_Raise
		Loop
		
		Deselect:
		ELCH A 1 A_Lower
		Loop
		
		Ready:
		ELCH A 1 A_WeaponReady
		Loop
		
		Fire:
		PUNG A 11 {
			A_FireCustomMissile("Cupcake_Missile",0,1,0,-6);
			A_Playsound("el/woosh",CHAN_WEAPON,1.0);
		}
		Goto Ready
		
		//ACS_NamedExecute("oops",0)
		// Goto ThrowMug
		
		// ThrowMug:
		// ICMF A 0 A_Playsound("weapon/impfire",CHAN_WEAPON,0.7)
		// ICMF A 0 A_Recoil(4)
		// ICMF A 5 A_FireCustomMissile("CoffeeMug_Missile",0,1,0,-6)
		// ICMF A 5 A_TakeInventory("MugGun",1)
		// Goto Ready
	}
	
}

actor Cupcake_Ammo : Ammo 30003
{
	Inventory.PickupMessage "Yummy!"
	Inventory.Amount 15
	Inventory.MaxAmount 999
	Ammo.BackpackAmount 999
	Ammo.BackpackMaxAmount 999
	Tag "Cupcake"
	Inventory.Icon "ELCPA0"
	
	States
	{
		Spawn:
		ELCP A 4
		Loop
	}
}

actor Cake_Ammo : Ammo 30000
{
  // Height 40
  // Radius 20
  // +SOLID
  Inventory.PickupMessage "Yummy!"
  Inventory.Amount 100
  Inventory.MaxAmount 999
  Ammo.BackpackAmount 999
  Ammo.BackpackMaxAmount 999
  Tag "Cupcake"
  
  Inventory.PickupMessage "Strawberry, my favorite!"
  Inventory.PickupSound "el/lg_nom"
  
  States
  {
  Spawn:
    ELCK A 10
    Loop
  }
}



actor Cupcake_Missile : Actor
{
	+RANDOMIZE
	+FORCEPAIN
	Projectile
	
	Radius 6
	Height 4
	Speed 8
	Damage 1
	
	States
	{
		Spawn:
		ELCM A 4 Bright
		Loop
		
		Death:
		ELCM A 4 Bright
		Stop
	}
}